{% extends "base.html" %}
{% block title %}Create Community{% endblock %}
{% block content %}
    <div class="px-3 py-4 flex flex-col gap-2 border-base-300 rounded-2xl max-w-xl mx-auto sm:bg-base-200 sm:border sm:mt-10">
        <h1 class="text-2xl font-bold">Create a Community</h1>
        <form action="{% url 'community-create' %}" method="post" class="fieldset">
            {% csrf_token %}
            <label class="fieldset">
                <span class="label">Community name</span>
                <label class="input rounded-full w-full">
                    <input type="text"
                           name="name"
                           required
                           placeholder="community_name"
                           value="{{ form.title.value|default:'' }}"
                           min_value="3"
                           max_value="30"
                           title="Name of a new community" />
                </label>
                {% if form.name.errors %}
                    <ul>
                        {% for error in form.name.errors %}
                            <li class="text-sm text-red-600 flex items-center gap-1 shrink-0">
                                <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                    <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                                </svg>
                                {{ error|striptags }}
                            </li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </label>
            <label class="fieldset">
                <span class="label">Community description</span>
                <textarea class="textarea rounded-lg border px-2 h-26 w-full"
                          name="description"
                          placeholder="Describe a new community..."
                          title="Description of your community"></textarea>
            </label>
            {% if form.description.errors %}
                <ul>
                    {% for error in form.description.errors %}
                        <li class="text-sm text-red-600 flex items-center gap-1 shrink-0">
                            <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                            </svg>
                            {{ error|striptags }}
                        </li>
                    {% endfor %}
                </ul>
            {% endif %}
            {% if form.non_field_errors %}
                <div class="text-sm text-red-600 flex items-center gap-1 shrink-0">
                    <svg class="w-4 h-4 shrink-0" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                    </svg>
                    {{ form.non_field_errors.0 }}
                </div>
            {% endif %}
            <button class="btn btn-primary mt-4 rounded-full w-full" type="submit">Create Community</button>
        </form>
    </div>
{% endblock %}
