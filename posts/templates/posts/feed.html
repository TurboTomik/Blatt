{% extends "base.html" %}
{% block title %}Feed{% endblock %}
{% block content %}
    <div class="flex flex-col items-center gap-3 px-2 my-3"
         id="posts-container">
        {% for post in page_obj %}
            {% include "posts/post_card.html" %}
        {% empty %}
            <p>There are no posts.</p>
        {% endfor %}
        <!-- Infinite scroll trigger -->
        {% if page_obj.has_next %}
            <div hx-get="?page={{ page_obj.next_page_number }}"
                 hx-trigger="revealed"
                 hx-swap="outerHTML"
                 class="loading-trigger">
                <p class="text-center py-4">Loading more...</p>
            </div>
        {% endif %}
    </div>
{% endblock %}
